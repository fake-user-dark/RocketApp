<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Photo</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body >


    <div id="menu_burger_opt">

        hello  

    </div>

    <div class="container" id="top_nav">
        <h2>Rocket League Tracker</h2>

        <svg id="burger_menu" onclick="burger_menu_clicked()" stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 15 15" width="7%" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z" fill="currentColor"></path></svg>
    </div>



    <br>
    <div class="container">

        <div id="tuka_slika">
            <img id="imagePreview" src="" alt="Image Preview" style="max-width: 100%; height: 100px;display: none;"><br><br>
        </div>
        <div id="sub-title">            
            
            <h2 id="this_bye">Previous Record Here</h2>
        
        </div>



        

        <!-- File Upload Form -->
        <form id="uploadForm" onsubmit="event.preventDefault();">

            <div id="icons">
                <label for="fileInput"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" width="7%" xmlns="http://www.w3.org/2000/svg"><path d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg></label>
                <input type="file" id="fileInput" accept="image/*" >
                <svg stroke="currentColor" onclick="captureScreenshot()" fill="white" stroke-width="0" viewBox="0 0 24 24" width="10%" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M17 4h3c1.1 0 2 .9 2 2v2h-2V6h-3V4zM4 8V6h3V4H4c-1.1 0-2 .9-2 2v2h2zm16 8v2h-3v2h3c1.1 0 2-.9 2-2v-2h-2zM7 18H4v-2H2v2c0 1.1.9 2 2 2h3v-2zM18 8H6v8h12V8z"></path></svg>
            </div>  <br><br>

            <!-- Display the Image Preview -->
            <div id="hey">
                <h2>Scored Goals of 100</h2><hr>
                <h1>0 / 100</h1>
                
            </div>

            <div id="plus_minus">

                <button id="plus" onclick="pluss()"><svg stroke="currentColor" fill="black" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></button>
                
                <div>
                    <button id="minus" onclick="minuss()"><svg stroke="currentColor" fill="black" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></button>Just in case ;D 
                </div>
            </div>
            <!-- Button to Capture Screenshot -->
            
          
        </form>

    </div>


    <footer>

        <h6>made by: Darko</h6>

    </footer>




    <script>
        // Access the file input and preview elements
        const fileInput = document.getElementById('fileInput');
        const imagePreview = document.getElementById('imagePreview');
        const this_bye = document.getElementById("this_bye");
        
        // Event listener for file input change
        fileInput.addEventListener('change', function() {
            const file = fileInput.files[0]; // Get the first selected file
            let na = file.name
            let take_and_splice = na.split(".")
            console.log(take_and_splice)


            if (file) {
                // Create a FileReader object to read the file
                const reader = new FileReader();

                // Once the file is read, display the preview
                reader.onload = function(event) {
                    // Set the src of the image preview to the file content
                    imagePreview.src = event.target.result;
                    imagePreview.style.display = 'block'; // Make the preview visible
                };

                // Read the file as a data URL (base64 encoded)
                reader.readAsDataURL(file);


            } else {

                alert("fajlot e ne validen :(")

            }

            if (take_and_splice[1] !== "png") {
                alert("fajlot e ne validen :(")
            }

            this_bye.style.display = "none"


        });

        // Function to capture screenshot
        function captureScreenshot() {
            const content = document.getElementById('hey');
            
            // Use html2canvas to take a screenshot of the content element
            html2canvas(content).then(function(canvas) {
                // Convert the canvas to a data URL (image)
                const img = canvas.toDataURL("image/png");

                // Create an invisible download link
                const link = document.createElement('a');
                link.href = img;
                link.download = 'RocketResult.png'; // Set default file name
                link.click(); // Simulate click to trigger download
            });
        }
        
    </script>

    <script src="structure.js"></script>

</body>
</html>
